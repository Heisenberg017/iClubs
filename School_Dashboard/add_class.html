<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../admin_pages/content_manager_pages/club_coordinator_pages/main.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous" />
    <title>Aditya Birla Public School - School Dashboard</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
</head>

<body style="background-color:#f0f0f0">
    <div class="page-container__new">
        <div class="sidebar-menu">
            <div class="sidebar-header">
                <div class="logo">
                    <a href="inst_dash.php"><img src="http://www.iclubs.in/student_panel/new_design/images/ilogo.png"
                            alt="logo" height="30px" />
                        <h6>clubs</h6>
                    </a>
                </div>

            </div>
            <div class="side-nav-wrapper">
                <ul class="side-nav_list">
                    <li>
                        <i class="fas fa-graduation-cap side-icons fa-fw"></i>
                        <a href="club.php" class="side-nav_links"> Clubs Management </a>
                    </li>
                    <li>
                        <i class="fas fa-user side-icons fa-fw"></i>
                        <a href="add_class1.php" class="side-nav_links"> Users Management </a>
                    </li>
                    <i class="fas fa-cog side-icons fa-fw"></i>
                    <a href="#" class="side-nav_links">Settings</a>
                    </li>
                </ul><br>
                <ul class="side-nav_list">
                    </li>
                    <a href="?q=logout" class="side-nav_links">Logout</a>
                    </li>
                </ul>
            </div>
            <div class="footer-wrap">
                <h1 class="copy-text">
                    Copyright &copy; iClubs 2018 .All rights reserved
                </h1>
                <a href="#">Privacy Policy</a> <span>|</span> <a href="#">Feedback</a>
            </div>
        </div>
        <div class="main-content" style="min-height: 100vh;">
            <div class="right_topNav">
                <div class="inner-topNav">
                    <div class="row no-gutters ">
                        <div class="col-6">
                            <div class="icon-wrap">
                                <h1 class="topNav_first">
                                    Aditya Birla Public School <span> DASHBOARD </span>
                                </h1>
                                <i class="fas fa-home nav-icons fa-fw"></i>
                                <i class="fas fa-bell nav-icons fa-fw"></i>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="icon-wrap">
                                <h1 class="topNav_first_name">
                                    Ankush Aggarwal | School Coordinator
                                </h1>
                                <img src="assets/images/user (1).png" alt="" height="40px" />
                                <i class="fas fa-bars fa-fw side-icons nav-icons menu"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="new-container">
                <div class="batch-section">
                    <a href="view_user.php" class="batch-section_link">View Students</a>
                    <a href="add_user.php" class="batch-section_link">Add Students to Batch</a>
                </div>
                <div class="limiter">
                    <div class="container-login100">
                        <div class="wrap-login100 p-t-55 p-b-55">
                            <h1 class="__head">Add Batch </h1>
                            <div class="row-wrapper">
                                <h1 class="row--head">Class 6</h1>
                                <label class="pure-material-checkbox">
                                    <input type="checkbox" id="class-6" checked onclick="remove_class(6);">
                                    <span></span>
                                </label>
                                <ul class="row--list" id="batch-6">
                                    <li id="A">A</li>
                                    <li id="B">B</li>
                                    <li id="C">C</li>
                                    <li id="D">D</li>
                                </ul>
                                <span><a href="#" class="row--link" onclick="add_batch(6);">+</a>
                                    <a href="#" class="row--link" onclick="remove_batch(6);">-</a></span>
                            </div>
                            <div class="row-wrapper">
                                <h1 class="row--head">Class 7</h1>
                                <label class="pure-material-checkbox">
                                    <input type="checkbox" id="class-7" checked onclick="remove_class(7);">
                                    <span></span>
                                </label>
                                <ul class="row--list" id="batch-7">
                                </ul>
                                <span><a href="#" class="row--link" onclick="add_batch(7);">+</a>
                                    <a href="#" class="row--link" onclick="remove_batch(7);">-</a></span>
                            </div>
                            <div class="row-wrapper">
                                <h1 class="row--head">Class 8</h1>
                                <label class="pure-material-checkbox">
                                    <input type="checkbox" id="class-8" checked onclick="remove_class(8);">
                                    <span></span>
                                </label>
                                <ul class="row--list" id="batch-8">
                                </ul>
                                <span><a href="#" class="row--link" onclick="add_batch(8);">+</a>
                                    <a href="#" class="row--link" onclick="remove_batch(8);">-</a></span>
                            </div>
                            <div class="row-wrapper">
                                <h1 class="row--head">Class 9</h1>
                                <label class="pure-material-checkbox">
                                    <input type="checkbox" id="class-9" checked onclick="remove_class(9);">
                                    <span></span>
                                </label>
                                <ul class="row--list" id="batch-9">
                                </ul>
                                <span><a href="#" class="row--link" onclick="add_batch(9);">+</a>
                                    <a href="#" class="row--link" onclick="remove_batch(9);">-</a></span>
                            </div>
                            <div class="row-wrapper">
                                <h1 class="row--head">Class 10</h1>
                                <label class="pure-material-checkbox">
                                    <input type="checkbox" id="class-10" checked onclick="remove_class(10);">
                                    <span></span>
                                </label>
                                <ul class="row--list" id="batch-10">
                                </ul>
                                <span><a href="#" class="row--link" onclick="add_batch(10);">+</a>
                                    <a href="#" class="row--link" onclick="remove_batch(10);">-</a></span>
                            </div>
                            <div class="row-wrapper">
                                <h1 class="row--head">Class 11</h1>
                                <label class="pure-material-checkbox">
                                    <input type="checkbox" id="class-11" checked onclick="remove_class(11);">
                                    <span></span>
                                </label>
                                <ul class="row--list" id="batch-11">
                                </ul>
                                <span><a href="#" class="row--link" onclick="add_batch(11);">+</a>
                                    <a href="#" class="row--link" onclick="remove_batch(11);">-</a></span>
                            </div>
                            <div class="row-wrapper">
                                <h1 class="row--head">Class 12</h1>
                                <label class="pure-material-checkbox">
                                    <input type="checkbox" id="class-12" checked onclick="remove_class(12);">
                                    <span></span>
                                </label>
                                <ul class="row--list" id="batch-12">
                                </ul>
                                <span><a href="#" class="row--link" onclick="add_batch(12);">+</a>
                                    <a href="#" class="row--link" onclick="remove_batch(12);">-</a></span>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
            <script>
                function add_batch(cls) {
                    if ($('#class-' + cls).prop('checked')) {
                        var temp_id = 'batch-';
                        var last = $('#' + temp_id + cls + ' li:last-child').last().text();
                        if (last == '') {
                            last = '@';
                        } else {}
                        next = String.fromCharCode(last.charCodeAt(0) + 1);
                        $.ajax({
                            type: 'GET',
                            url: 'batch_back.php?action=add&class=' + cls + '&batch=' + next,
                            data: '',
                            success: function (response) {
                                console.log(response);
                                if (response == 'success') {
                                    $('#' + temp_id + cls).append('<li id="' + next + '">' + next + '</li>');
                                } else {
                                    alert('error');
                                }

                            },
                            error: function (e) {
                                alert('error');
                                console.log(e);
                            }
                        });
                    } else {
                        alert('Select Class');
                    }

                }

                function remove_class(cls) {
                    if ($('#class-' + cls).prop('checked')) {} else {
                        var bool = confirm('Are your sure you want to delete Class:' + cls +
                            ' and all of its batches ? ');
                        if (bool == true) {
                            $.ajax({
                                type: 'GET',
                                url: 'batch_back.php?action=delclass&class=' + cls,
                                data: '',
                                success: function (response) {
                                    console.log(response);
                                    if (response == 'success') {
                                        $('#batch-' + cls + ' li').remove();
                                    } else {
                                        alert('error');
                                    }

                                },
                                error: function (e) {
                                    alert('error');
                                    console.log(e);
                                }
                            });
                        } else {}
                    }
                }

                function remove_batch(cls) {
                    var temp_id = 'batch-';
                    var last = $('#' + temp_id + cls + ' li:last-child').last().text();
                    if (last == '') {
                        last = '@';
                    } else {}
                    next = String.fromCharCode(last.charCodeAt(0));
                    $.ajax({
                        type: 'GET',
                        url: 'batch_back.php?action=delbatch&class=' + cls + '&batch=' + next,
                        data: '',
                        success: function (response) {
                            console.log(response);
                            if (response == 'success') {
                                $('#' + temp_id + cls + ' li#' + next).remove();
                            } else {
                                alert('error');
                            }

                        },
                        error: function (e) {
                            alert('error');
                            console.log(e);
                        }
                    });


                }
            </script>
</body>

</html>